{"version":3,"file":"MetaTags.js","names":["createContext","useMemo","Helmet","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Context","description","title","MetaTags","_ref","children","extraMetaTags","image","siteName","socialDescription","socialTitle","url","socTitle","socDesc","context","extra","length","i","content","name","push","value"],"sources":["../../src/MetaTags.tsx"],"sourcesContent":["import {\n  type Context as ContextT,\n  type FunctionComponent,\n  type ReactNode,\n  createContext,\n  useMemo,\n} from 'react';\n\nimport Helmet from './Helmet';\n\ntype PropsT = {\n  children?: ReactNode;\n  description: string;\n  extraMetaTags?: Array<{\n    content: string;\n    name: string;\n  }>;\n  image?: string;\n  siteName?: string;\n  socialDescription?: string;\n  socialTitle?: string;\n  title: string;\n  url?: string;\n};\n\nconst Context = createContext<PropsT>({\n  description: '',\n  title: '',\n});\n\n/**\n * Auxiliary wrapper around \"react-helmet\", which helps to inject meta tags\n * (page title, a brief content description, and social media thumbnails) into\n * generated pages.\n */\nconst MetaTags: FunctionComponent<PropsT> & {\n  Context: ContextT<PropsT>;\n} = ({\n  children,\n  description,\n  extraMetaTags,\n  image,\n  siteName,\n  socialDescription,\n  socialTitle,\n  title,\n  url,\n}) => {\n  // NOTE: I guess, in this very case, we should prefer title and description\n  // also to empty social title and decscription?\n  /* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\n  const socTitle = socialTitle || title;\n  const socDesc = socialDescription || description;\n  /* eslint-enable @typescript-eslint/prefer-nullish-coalescing */\n\n  const context = useMemo(() => ({\n    description,\n    image,\n    siteName,\n    socialDescription,\n    socialTitle,\n    title,\n    url,\n  }), [\n    description,\n    image,\n    siteName,\n    socialDescription,\n    socialTitle,\n    title,\n    url,\n  ]);\n\n  const extra: ReactNode[] = [];\n  if (extraMetaTags?.length) {\n    for (let i = 0; i < extraMetaTags.length; ++i) {\n      const { content, name } = extraMetaTags[i]!;\n      extra.push(\n        <meta\n          content={content}\n          key={`extra-meta-tag-${i}`}\n          name={name}\n        />,\n      );\n    }\n  }\n\n  return (\n    <>\n      <Helmet>\n        {/* General tags. */}\n        <title>\n          {title}\n        </title>\n        <meta content={description} name=\"description\" />\n\n        {/* Twitter cards. */}\n        <meta content=\"summary_large_image\" name=\"twitter:card\" />\n        <meta content={socTitle} name=\"twitter:title\" />\n        <meta content={socDesc} name=\"twitter:description\" />\n        { image ? <meta content={image} name=\"twitter:image\" /> : null }\n        {\n          siteName\n            ? <meta content={`@${siteName}`} name=\"twitter:site\" />\n            : null\n        }\n\n        {/* Open Graph data. */}\n        <meta content={socTitle} name=\"og:title\" />\n        { image ? <meta content={image} name=\"og:image\" /> : null }\n        { image ? <meta content={socTitle} name=\"og:image:alt\" /> : null }\n        <meta content={socDesc} name=\"og:description\" />\n        {\n          siteName ? <meta content={siteName} name=\"og:sitename\" /> : null\n        }\n        { url ? <meta content={url} name=\"og:url\" /> : null }\n        {extra}\n      </Helmet>\n      {\n        children ? (\n          <Context value={context}>\n            {children}\n          </Context>\n        ) : null\n      }\n    </>\n  );\n};\n\nMetaTags.Context = Context;\n\nexport default MetaTags;\n"],"mappings":"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","ignoreList":[]}